= Cloudera CDP Data Lifecycle - Workshop Student Guide

image::https://github.com/DigitalSal/cdp-ds-workshops/raw/main/images/AMERPartnerWSBanner.png[]

// :toc: left 
'''

Version : 1.0.0 `24th April 2023` +

''' 

== Introduction
The purpose of this repository is to enable the easy and quick setup of the workshop. Cloudera Data Platform (CDP) has been built from the ground up to support hybrid, multi-cloud data management in support of a Data Fabric architecture. This workshop introduces CDP, with a focus on the data management capabilities that enable the Data Fabric and Data Lakehouse.

- Data ingestion and preparation — provided by Cloudera Data Flow (CDF) and Cloudera Data Engineering (CDE).
- Global data access and persistence—​provided by Cloudera Data Warehouse (CDW).
- Data visualization with CDP Data Visualization.
- Model development and serving with Cloudera Machine Learning(CML)

== Overview
In this exercise, we will get telco data queued in a Kafka topic that contains customer information, that we'll load into our Data Lakehouse and use it to determine if a customer is likely to churn.

=== Telco Customer Churn Analytics

In this exercise we will implement an end-to-end machine learning workflow using CDP data lakehouse and CDP data services, including:

. Data ingest -  Use Cloudera Data Flow(CDF) to ingest data from Kafka topic to Open Data Lakehouse.
. Data enrichment -  Use Cloudera Data Engineering(CDE) to orchestrate Spark jobs to prepare the data.
. Data analysis - Use Cloudera Data Warehouse(CDW) to query and analyse data, and use Cloudera Data Visualization(DataViz) to build a dashboard.
. Model building/serving - Use Cloudera Machine Learning(CML) to build and train an ML model to predict customer churn, then deploy trained model for real-time scoring and prediction.
. Enrich data visualization -  Use deployed ML model to add real-time model scoring(Churn Score) to dashboard.

=== Business Use Case

In this Hands On Lab you will create a model to predict customer churn and present model-driven insights to your stakeholders. You will use an interpretability technique to make your otherwise “black box model” explainable in an interactive dashboard. A mathematical explanation is beyond the scope of this lab but if you are interested in learning more we recommend the https://ff06-2020.fastforwardlabs.com/[Fast Forward Labs Report on Model Interpretability]. Finally, you will use basic ML Ops techniques to productionize and monitor your model. 


=== Environment Setup for workshop:
- Single ML Workspace as the primary working environment 
- *Important!* ML Workspace contains both Model Metrics and Governance features turned on (they are off by default). 
- Use this document for all preparation
// For 2nd day of workshops, need to recreate the ML Workspace

=== Visual Guide to CML Workshop

image::./images/misc/pref/MLlifeCycleinCML.png[]


== Lab 1: Configure and deploy the Workshop Content as an https://docs.cloudera.com/machine-learning/cloud/applied-ml-prototypes/topics/ml-amps-overview.html[AMP] (15 min)

AMPs (Applied Machine Learning Prototypes) are reference Machine Learning projects that have been built by Cloudera Fast Forward Labs to provide quickstart examples and tutorials. AMPs are deployed into the Cloudera Machine Learning (CML) experience, which is a platform you can also build your own Machine Learning use cases on.

=== Prerequisites for workshop participants:
* Go to the Workshop Environment (provided by instructor)
* Need to have Workload password set (this will be needed for CDV part where CDW is queried)
+
--
** For directions to set Workload password click here https://github.com/DigitalSal/cml-workshop/blob/main/workloadpassword/setworkloadpass.adoc[Reset Workload Password]
--
* Navigate to the Machine Learning tile from the CDP Menu 
* Make sure you can click into the Workspace by clicking the Workspace name (provided by instructor)

image::./images/lab1/lab1-1.png[]

A Workspace is a cluster that runs on a kubernetes service to provide teams of data scientists a platform to develop, test, train, and ultimately deploy machine learning models. It is designed to deploy a small number of infra resources and then autoscale compute resources as needed when end users implement more workloads and use cases.

- Click on *User Settings*
- Go to Environment Variables tab and set your *WORKLOAD_PASSWORD* (provided by instructor).

image::./images/lab1/lab1-2.png[]

In a workspace, Projects view is the default and you’ll be presented with all public (within your organization) and your own projects, if any. In this lab we will be creating a project based on Applied ML Prototype. 
